# v0.1.0 – Admin panel real y gestión de usuarios

## Novedades principales
- Admin Dashboard real: métricas desde `GET /api/admin/stats`.
- AdminUsers: listado con filtros, paginación, contadores (activos/inactivos), modales y acciones.
- Rutas protegidas: `ProtectedRoute` aplicado a `/admin` y `/admin/users`.
- Tipos alineados: `AdminUser` con `role: 'usuario' | 'admin'` y corrección TS.
- Navegación más robusta: desactivado `prefetch` en `Navigation` y acciones del dashboard para evitar “Failed to fetch”.
- Ajustes de exportaciones y validación visual; UI refinada y consistente.

## Correcciones y ajustes
- Resolución de problemas de tipos en entidades y API.
- Mejora de estados de carga y errores en admin, evitando llamadas duplicadas.
- Corrección de enlaces y rutas en navegación con protección adecuada.

## Backend/API y datos
- Endpoints:
  - `GET /api/admin/stats` – estadísticas del sistema (usuarios, tareas, etc.).
  - `GET /api/admin/users` + filtros/paginación – administración de usuarios.
  - Acciones de activación/inactivación y detalles vía modales.
- Prisma y migraciones:
  - Nuevas migraciones para soportar roles y estados de usuario.
  - `prisma/seed.ts` con usuario admin (usar contraseña desde `.env`).
- Tip: en `prisma/seed.ts`, el campo `contraseña: adminPassword` toma el valor del entorno para el admin.

## UI/UX
- `AdminDashboardContent`: tarjetas de KPI, estados, y acciones con feedback visual.
- `AdminUsersContent`: tabla accesible con filtros, contadores y modales de confirmación.
- Navegación: sin prefetch para evitar errores de red en acciones críticas.

## Config y entorno
- Variables (`.env`):
  - `ADMIN_EMAIL` y `ADMIN_PASSWORD` para seeding del admin.
  - Credenciales de DB para Prisma.
- Next.js:
  - Prefetch desactivado en navegación y acciones de dashboard.
  - `ProtectedRoute` integrado.
- Lint/format:
  - Config de ESLint y Prettier aplicadas (CRLF en Windows).

## Deployment y verificación
- Correr migraciones y seed:
  - `pnpm prisma migrate deploy`
  - `pnpm prisma db seed`
- Variables en producción (env de Vercel/host):
  - DB, `ADMIN_EMAIL`, `ADMIN_PASSWORD` y cualquier secreto de API.
- Pruebas básicas:
  - Acceder a `/admin` con admin seeded.
  - Revisar métricas en dashboard y listado de usuarios.
  - Validar acciones (activar/inactivar) y filtros/paginación.

## Próximos pasos sugeridos
- v0.1.x: auditoría de accesibilidad y tests de integración de admin.
- Monitoreo: agregar logging y métricas para endpoints admin.
- Seguridad: rate limiting para rutas admin y endurecer políticas de sesión.

## Meta
- Tag: `v0.1.0`
- Branch base: `main`
- Tipo: Draft (guardar como borrador)